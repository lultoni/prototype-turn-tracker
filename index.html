<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Turn Tracker — (GAME NAME)</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="container grid cols-2">

    <section class="card">
        <h1>(GAME NAME) — Turn/Resource Tracker</h1>
        <div class="kpi">
            <div class="item"><div class="muted tiny">Round</div><div id="round" class="big">1</div></div>
            <div class="item"><div class="muted tiny">Current Player</div><div id="currentPlayer" class="big">P1</div></div>
            <div class="item"><div class="muted tiny">Rounds Since Capture</div><div id="rsc" class="big">0</div></div>
            <div class="item"><div class="muted tiny">Skill Slots (this turn)</div><div id="skillSlotsNow" class="big">2</div></div>
            <div class="item"><div class="muted tiny">Rune Gain at Round End</div><div id="runeGain" class="big">+1</div></div>
        </div>

        <div class="divider"></div>

        <h2>Turn Structure</h2>
        <div class="row"><span class="pill">A Round = P1 Turn ➜ P2 Turn</span><span class="pill">A Turn = Movement Phase ➜ Action Phase</span></div>

        <div class="notice">
            <div class="row"><strong>Movement Phase</strong> — 2 optional Move Slots</div>
            <div class="btn-row" id="moveSlots"></div>
            <div class="tiny muted">Movement (base): Guard 2 tiles, Champion/King 1. Injured max 1. Any direction.
            </div>
        </div>

        <div class="notice" style="margin-top:8px">
            <div class="row"><strong>Action Phase</strong> — Skill Slots</div>
            <div class="btn-row" id="skillSlots"></div>
            <div class="tiny muted">Start with 2 Skill Slots. +1 every 10 rounds (3 at Round 10, 4 at Round 20, ...). Pay rune cost before effect.
            </div>
        </div>

        <div style="margin-top:10px" class="btn-row">
            <button id="endTurn">End Turn ▶</button>
            <button class="secondary" id="toggleCapture">No capture this round</button>
            <button class="danger" id="resetGame">Reset Game</button>
        </div>

        <div class="row" style="margin-top:6px">
            <span class="muted tiny">Tip: Toggle "No capture this round" only once per round. It will reset automatically next round.</span>
        </div>

        <div class="divider"></div>

        <h2>Draw Conditions</h2>
        <ul class="tiny">
            <li>• <strong>DC1</strong>: No piece is captured for <strong>10 full rounds</strong>.</li>
            <li>• <strong>DC2</strong>: Only the two Kings remain on the board.</li>
        </ul>
        <div class="row">
            <span id="dc1" class="pill">DC1: OK</span>
            <span id="dc2" class="pill">DC2: OK</span>
        </div>
    </section>

    <section class="card">
        <h2>Players & Runes</h2>
        <div class="row">
            <div class="stat"><strong>P1 Runes</strong> <span id="p1Runes" class="val">0</span>
                <div class="counter">
                    <button class="secondary" data-rune-delta="-1" data-player="1">−</button>
                    <button class="secondary" data-rune-delta="+1" data-player="1">+</button>
                </div>
            </div>
            <div class="stat"><strong>P2 Runes</strong> <span id="p2Runes" class="val">0</span>
                <div class="counter">
                    <button class="secondary" data-rune-delta="-1" data-player="2">−</button>
                    <button class="secondary" data-rune-delta="+1" data-player="2">+</button>
                </div>
            </div>
        </div>
        <div class="tiny muted" style="margin-top:4px">Runes: Gain +1 at end of each round, scaling by +1 every 7 rounds (e.g., +2 at Round 7, +3 at Round 14, ...).</div>

        <div class="divider"></div>

        <h2>Piece Tracker</h2>
        <div class="grid cols-2">
            <div>
                <h3 class="muted">Player 1</h3>
                <div class="row">
                    <div class="stat"><span>Guards</span><span id="p1Guards" class="val">0</span>
                        <div class="counter">
                            <button class="secondary" data-piece="p1Guards" data-delta="-1">−</button>
                            <button class="secondary" data-piece="p1Guards" data-delta="+1">+</button>
                        </div>
                    </div>
                    <div class="stat"><span>Champions</span><span id="p1Champs" class="val">0</span>
                        <div class="counter">
                            <button class="secondary" data-piece="p1Champs" data-delta="-1">−</button>
                            <button class="secondary" data-piece="p1Champs" data-delta="+1">+</button>
                        </div>
                    </div>
                    <div class="stat"><span>King</span><span class="val">1</span></div>
                </div>
            </div>
            <div>
                <h3 class="muted">Player 2</h3>
                <div class="row">
                    <div class="stat"><span>Guards</span><span id="p2Guards" class="val">0</span>
                        <div class="counter">
                            <button class="secondary" data-piece="p2Guards" data-delta="-1">−</button>
                            <button class="secondary" data-piece="p2Guards" data-delta="+1">+</button>
                        </div>
                    </div>
                    <div class="stat"><span>Champions</span><span id="p2Champs" class="val">0</span>
                        <div class="counter">
                            <button class="secondary" data-piece="p2Champs" data-delta="-1">−</button>
                            <button class="secondary" data-piece="p2Champs" data-delta="+1">+</button>
                        </div>
                    </div>
                    <div class="stat"><span>King</span><span class="val">1</span></div>
                </div>
            </div>
        </div>

        <div class="divider"></div>
        <h2>Quick Notes</h2>
        <textarea id="notes" rows="6" style="width:100%;border-radius:12px;border:1px solid #2a357a;background:#0c1130;color:var(--text);padding:10px" placeholder="Optional: record key events, skills used, injuries/heals, bodyguard interceptions, etc."></textarea>

        <div class="footer tiny">All data auto-saves to your device (localStorage). Clearing with <em>Reset Game</em> will wipe it.</div>
    </section>
</div>

<script src="script.js"></script>
</body>
</html>
